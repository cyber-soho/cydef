<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Defense Essentials: Technical Controls</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Slate-50 */
            color: #334155; /* Slate-700 */
        }

        /* Chart Container Styling - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar for panels */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        /* Animation classes */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .packet {
            transition: all 1s ease-in-out;
        }
    </style>
    <!-- Chosen Palette: Slate (Neutrals) + Indigo (Primary) + Rose (Danger) + Emerald (Success) -->
    <!-- Application Structure Plan:
        1.  **Dashboard Header:** Navigation to key modules (Segmentation, Firewalls, IDS/IPS, Deception, SIEM).
        2.  **Introduction:** Brief overview of technical controls based on the module objective.
        3.  **Module 1: Architecture & Segmentation:** Interactive visualization of Flat vs. Segmented networks and DMZ types using CSS Grid/Flexbox layouts that toggle state.
        4.  **Module 2: Firewall Defense Center:** A functional "Packet Filter Simulator" where users can test rules against traffic types, explaining different firewall technologies (Packet filtering, Stateful, Proxy).
        5.  **Module 3: Detection & Prevention:** A split-view comparator for IDS vs. IPS, allowing users to "inject" a threat and see the difference in response (Alert vs. Block).
        6.  **Module 4: Deception & Connectivity:** A card-based explorer for Honeypots, VPNs, and Proxies.
        7.  **Module 5: SIEM Analytics Hub:** A Chart.js powered dashboard visualizing the SIEM funnel (Logs -> Correlation -> Alerts) and User Behavior Analytics (UBA).
        Rationale: This structure breaks down the dense PDF into logical, task-oriented sections (Architecture, Defense, Detection, Analysis) facilitating active learning.
    -->
    <!-- Visualization & Content Choices:
        -   **Segmentation:** Interactive CSS diagrams. Goal: Show isolation. Justification: Visualizing "zones" (DMZ) is clearer than text.
        -   **Firewalls:** Simulation Logic + Text. Goal: Explain rule-based filtering. Justification: Users learn best by seeing "blocked" vs "allowed" outcomes.
        -   **SIEM:** Chart.js Doughnut and Bar charts. Goal: Visualize data aggregation. Justification: SIEM is about data volume vs. actionable intelligence.
        -   **Honeypots:** Grid Layout. Goal: Taxonomy. Justification: Quick comparison of interaction levels.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-slate-900 text-white sticky top-0 z-50 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="font-bold text-xl tracking-wider">üõ°Ô∏è Advanced Threat Detection and Response</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <button onclick="scrollToSection('segmentation')" class="hover:bg-slate-700 px-3 py-2 rounded-md text-sm font-medium transition">Segmentation</button>
                        <button onclick="scrollToSection('firewalls')" class="hover:bg-slate-700 px-3 py-2 rounded-md text-sm font-medium transition">Firewalls</button>
                        <button onclick="scrollToSection('ids-ips')" class="hover:bg-slate-700 px-3 py-2 rounded-md text-sm font-medium transition">IDS/IPS</button>
                        <button onclick="scrollToSection('siem')" class="hover:bg-slate-700 px-3 py-2 rounded-md text-sm font-medium transition">SIEM & UBA</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-white shadow-sm border-b border-slate-200">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl font-extrabold text-slate-900 mb-4">Network Security Technical Controls</h1>
            <p class="text-lg text-slate-600 max-w-3xl mx-auto">
                Explore the defense-in-depth mechanisms used to protect organizational assets. From network segmentation and firewalls to advanced SIEM analytics and deception technology.
            </p>
            <div class="mt-6 flex justify-center gap-4">
                <div class="px-4 py-2 bg-indigo-50 text-indigo-700 rounded-full text-sm font-semibold border border-indigo-100">SIEM</div>
                <div class="px-4 py-2 bg-emerald-50 text-emerald-700 rounded-full text-sm font-semibold border border-emerald-100">Interactive Guide</div>
            </div>
        </div>
    </header>

    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-16">

        <!-- SECTION 1: Network Segmentation -->
        <section id="segmentation" class="scroll-mt-20">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-slate-900 flex items-center gap-3">
                    <span class="bg-indigo-600 text-white w-10 h-10 rounded-lg flex items-center justify-center text-lg">1</span>
                    Network Segmentation
                </h2>
                <p class="mt-2 text-slate-600 text-lg">
                    Segmentation splits the network into smaller parts to improve security, performance, and containment. Visualize how separating zones protects critical assets.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Interactive Diagram -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-slate-800">Zone Architecture Visualizer</h3>
                        <div class="flex gap-2">
                            <button onclick="toggleZone('flat')" class="px-3 py-1 text-xs font-semibold rounded-full bg-slate-200 hover:bg-slate-300 transition">Flat Network</button>
                            <button onclick="toggleZone('segmented')" class="px-3 py-1 text-xs font-semibold rounded-full bg-indigo-600 text-white shadow transition">Segmented (DMZ)</button>
                        </div>
                    </div>

                    <!-- Visualization Container -->
                    <div id="network-diagram" class="bg-slate-50 p-6 rounded-lg border-2 border-dashed border-slate-300 min-h-[300px] relative transition-all duration-500">
                        <!-- Content injected by JS -->
                    </div>
                </div>

                <!-- Info Panel -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col justify-center">
                    <h3 class="font-bold text-lg text-slate-800 mb-4">Segmentation Types</h3>
                    <div class="space-y-4">
                        <div class="group cursor-pointer p-3 hover:bg-indigo-50 rounded-lg transition" onclick="showSegInfo('physical')">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">üîå</span>
                                <div>
                                    <h4 class="font-semibold text-slate-900">Physical Segmentation</h4>
                                    <p class="text-sm text-slate-500">Separate hardware (switches/routers). Secure but expensive.</p>
                                </div>
                            </div>
                        </div>
                        <div class="group cursor-pointer p-3 hover:bg-indigo-50 rounded-lg transition" onclick="showSegInfo('logical')">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">üåê</span>
                                <div>
                                    <h4 class="font-semibold text-slate-900">Logical Segmentation (VLAN)</h4>
                                    <p class="text-sm text-slate-500">Virtual separation on shared hardware. Flexible and cost-effective.</p>
                                </div>
                            </div>
                        </div>
                        <div class="group cursor-pointer p-3 hover:bg-indigo-50 rounded-lg transition" onclick="showSegInfo('virtual')">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">‚òÅÔ∏è</span>
                                <div>
                                    <h4 class="font-semibold text-slate-900">Network Virtualization</h4>
                                    <p class="text-sm text-slate-500">Abstracts resources into a single administrative unit. High scalability.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="seg-detail" class="mt-6 p-4 bg-slate-100 rounded text-sm text-slate-700 italic border-l-4 border-indigo-500">
                        Select a segmentation type above to learn more details from the report.
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: Firewalls -->
        <section id="firewalls" class="scroll-mt-20">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-slate-900 flex items-center gap-3">
                    <span class="bg-indigo-600 text-white w-10 h-10 rounded-lg flex items-center justify-center text-lg">2</span>
                    Firewall Defense
                </h2>
                <p class="mt-2 text-slate-600 text-lg">
                    Firewalls control incoming and outgoing traffic based on rules. Use the simulator to understand Packet Filtering vs. Application Proxies vs. Next-Generation Firewalls (NGFW).
                </p>
            </div>

            <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden">
                <div class="grid grid-cols-1 lg:grid-cols-3">
                    <!-- Controls -->
                    <div class="p-6 bg-slate-50 border-r border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-4">Firewall Configuration</h3>
                        
                        <div class="mb-4">
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-2">Select Technology</label>
                            <select id="fw-type" class="w-full p-2 border border-slate-300 rounded focus:ring-2 focus:ring-indigo-500" onchange="updateFwContext()">
                                <option value="packet">Packet Filtering (Layer 3/4)</option>
                                <option value="stateful">Stateful Inspection</option>
                                <option value="proxy">Application Proxy (Layer 7)</option>
                                <option value="ngfw">Next-Gen Firewall (NGFW)</option>
                            </select>
                        </div>

                        <div class="mb-6">
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-2">Traffic Simulation</label>
                            <div class="space-y-2">
                                <button onclick="simulatePacket('web')" class="w-full text-left px-3 py-2 bg-white border border-slate-200 rounded hover:border-indigo-500 flex justify-between items-center group transition">
                                    <span>üåê HTTP Request (Port 80)</span>
                                    <span class="text-xs text-slate-400 group-hover:text-indigo-500">Send ‚Üí</span>
                                </button>
                                <button onclick="simulatePacket('telnet')" class="w-full text-left px-3 py-2 bg-white border border-slate-200 rounded hover:border-indigo-500 flex justify-between items-center group transition">
                                    <span>üì† Telnet (Port 23)</span>
                                    <span class="text-xs text-slate-400 group-hover:text-indigo-500">Send ‚Üí</span>
                                </button>
                                <button onclick="simulatePacket('malware')" class="w-full text-left px-3 py-2 bg-white border border-slate-200 rounded hover:border-indigo-500 flex justify-between items-center group transition">
                                    <span>ü¶† Malware Payload</span>
                                    <span class="text-xs text-slate-400 group-hover:text-indigo-500">Send ‚Üí</span>
                                </button>
                            </div>
                        </div>

                        <div class="p-4 bg-indigo-50 rounded text-xs text-indigo-800" id="fw-desc">
                            <!-- Context text updated by JS -->
                            Packet Filtering checks source/destination IP and ports. It's fast but low security.
                        </div>
                    </div>

                    <!-- Visualization -->
                    <div class="col-span-2 p-6 relative bg-white">
                        <div class="absolute top-4 right-4 flex gap-2">
                            <div class="flex items-center gap-1"><div class="w-3 h-3 rounded-full bg-emerald-500"></div><span class="text-xs text-slate-500">Allowed</span></div>
                            <div class="flex items-center gap-1"><div class="w-3 h-3 rounded-full bg-rose-500"></div><span class="text-xs text-slate-500">Blocked</span></div>
                        </div>

                        <div class="flex justify-between items-center h-full max-w-2xl mx-auto">
                            <!-- Source -->
                            <div class="text-center">
                                <div class="text-4xl mb-2">üíª</div>
                                <div class="font-bold text-sm text-slate-700">Untrusted Network</div>
                                <div class="text-xs text-slate-400">(Internet)</div>
                            </div>

                            <!-- The Firewall -->
                            <div class="flex-grow mx-4 relative h-32 flex items-center justify-center">
                                <!-- Packet Animation Track -->
                                <div class="absolute w-full h-1 bg-slate-100 rounded"></div>
                                
                                <!-- Firewall Icon -->
                                <div class="relative z-10 w-24 h-24 bg-slate-800 rounded-lg flex flex-col items-center justify-center shadow-xl border-4 border-indigo-100">
                                    <div class="text-3xl">üî•</div>
                                    <div class="text-[10px] text-white font-mono mt-1 text-center px-1" id="fw-logic-text">Checking Header...</div>
                                </div>
                                
                                <!-- Packet Element (Animated via JS) -->
                                <div id="packet" class="absolute left-0 w-8 h-8 bg-indigo-500 rounded-full shadow-lg opacity-0 flex items-center justify-center text-white text-xs font-bold z-20">
                                    P
                                </div>
                            </div>

                            <!-- Destination -->
                            <div class="text-center">
                                <div class="text-4xl mb-2">üè¢</div>
                                <div class="font-bold text-sm text-slate-700">Internal Network</div>
                                <div class="text-xs text-slate-400">(Trusted)</div>
                            </div>
                        </div>
                        
                        <!-- Log Output -->
                        <div class="mt-8 border-t border-slate-100 pt-4">
                            <h4 class="text-xs font-bold text-slate-400 uppercase mb-2">Firewall Log</h4>
                            <div id="fw-log" class="font-mono text-xs bg-slate-900 text-emerald-400 p-3 rounded h-24 overflow-y-auto custom-scroll">
                                > System Ready. Select a packet to transmit...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: IDS / IPS -->
        <section id="ids-ips" class="scroll-mt-20">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-slate-900 flex items-center gap-3">
                    <span class="bg-indigo-600 text-white w-10 h-10 rounded-lg flex items-center justify-center text-lg">3</span>
                    Intrusion Detection & Prevention
                </h2>
                <p class="mt-2 text-slate-600 text-lg">
                    Understand the critical difference between monitoring (IDS) and enforcement (IPS). Toggle the mode to see how they handle a "Signature Match".
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- IDS Card -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:border-indigo-300 transition relative overflow-hidden group">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition">
                        <span class="text-6xl">üëÅÔ∏è</span>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800 mb-2">IDS (Detection)</h3>
                    <p class="text-sm text-slate-500 mb-4">"The Camera". Monitors traffic using signatures or anomaly detection. Alerts admins but does not stop traffic.</p>
                    
                    <div class="bg-slate-50 p-4 rounded border border-slate-100 mb-4">
                        <div class="flex justify-between items-center text-xs font-semibold text-slate-500 uppercase mb-2">
                            <span>Traffic Flow</span>
                            <span class="text-indigo-600">Passive Monitoring</span>
                        </div>
                        <div class="w-full h-2 bg-slate-200 rounded overflow-hidden">
                            <div class="h-full bg-slate-400 w-full animate-pulse"></div>
                        </div>
                    </div>

                    <button onclick="triggerIdps('ids')" class="w-full py-2 bg-white border-2 border-slate-800 text-slate-800 font-bold rounded hover:bg-slate-800 hover:text-white transition">
                        Simulate Attack on IDS
                    </button>
                    <div id="ids-result" class="mt-4 text-xs font-mono text-center h-6 text-rose-600 font-bold"></div>
                </div>

                <!-- IPS Card -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:border-indigo-300 transition relative overflow-hidden group">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition">
                        <span class="text-6xl">üëÆ</span>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800 mb-2">IPS (Prevention)</h3>
                    <p class="text-sm text-slate-500 mb-4">"The Bouncer". Sits inline with traffic. Can drop packets, reset connections, and block IPs automatically.</p>
                    
                    <div class="bg-slate-50 p-4 rounded border border-slate-100 mb-4">
                        <div class="flex justify-between items-center text-xs font-semibold text-slate-500 uppercase mb-2">
                            <span>Traffic Flow</span>
                            <span class="text-rose-600">Inline Enforcement</span>
                        </div>
                        <div class="w-full h-2 bg-slate-200 rounded overflow-hidden relative">
                            <div class="absolute h-full w-2 bg-rose-500 left-1/2"></div>
                        </div>
                    </div>

                    <button onclick="triggerIdps('ips')" class="w-full py-2 bg-rose-600 border-2 border-rose-600 text-white font-bold rounded hover:bg-rose-700 transition">
                        Simulate Attack on IPS
                    </button>
                    <div id="ips-result" class="mt-4 text-xs font-mono text-center h-6 text-emerald-600 font-bold"></div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: Deception, VPN, Proxy -->
        <section class="scroll-mt-20">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-slate-900 flex items-center gap-3">
                    <span class="bg-indigo-600 text-white w-10 h-10 rounded-lg flex items-center justify-center text-lg">4</span>
                    Honeypots, VPNs & Proxies
                </h2>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Honeypots -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 lg:col-span-1">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="text-2xl">üçØ</span>
                        <h3 class="text-xl font-bold text-slate-800">Honeypots</h3>
                    </div>
                    <p class="text-sm text-slate-600 mb-4">Decoy systems designed to lure attackers. Click to explore types:</p>
                    <div class="space-y-2">
                        <div class="p-3 bg-amber-50 rounded border border-amber-100 cursor-help hover:shadow-md transition" title="Emulates limited services. Low risk.">
                            <span class="font-bold text-amber-800 block text-xs uppercase">Low-Interaction</span>
                            <span class="text-sm text-amber-900">Basic emulation (KFSensor)</span>
                        </div>
                        <div class="p-3 bg-orange-50 rounded border border-orange-100 cursor-help hover:shadow-md transition" title="Real vulnerable OS/Services. High risk.">
                            <span class="font-bold text-orange-800 block text-xs uppercase">High-Interaction</span>
                            <span class="text-sm text-orange-900">Real systems (Honeynet)</span>
                        </div>
                        <div class="p-3 bg-red-50 rounded border border-red-100 cursor-help hover:shadow-md transition" title="Traps specific threats like spam or malware.">
                            <span class="font-bold text-red-800 block text-xs uppercase">Specialized</span>
                            <span class="text-sm text-red-900">Malware, Spam, Database</span>
                        </div>
                    </div>
                </div>

                <!-- VPN & Proxy Compare -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 lg:col-span-2">
                    <h3 class="text-xl font-bold text-slate-800 mb-4">Secure Connectivity</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- VPN -->
                        <div class="border border-slate-200 p-4 rounded-lg">
                            <div class="flex items-center justify-between mb-2">
                                <h4 class="font-bold text-indigo-700">VPN (Tunneling)</h4>
                                <span class="text-xl">üöá</span>
                            </div>
                            <ul class="text-sm text-slate-600 space-y-1 list-disc pl-4">
                                <li>Encrypts <strong>entire</strong> connection.</li>
                                <li>Hides IP address via Tunnel.</li>
                                <li><strong>Protocols:</strong> IPsec, SSL, PPTP, L2TP.</li>
                                <li>Used for Remote Access & Site-to-Site.</li>
                            </ul>
                        </div>
                        
                        <!-- Proxy -->
                        <div class="border border-slate-200 p-4 rounded-lg">
                            <div class="flex items-center justify-between mb-2">
                                <h4 class="font-bold text-emerald-700">Proxy Server</h4>
                                <span class="text-xl">üîÑ</span>
                            </div>
                            <ul class="text-sm text-slate-600 space-y-1 list-disc pl-4">
                                <li>Intermediary for <strong>specific</strong> traffic.</li>
                                <li>Caches content (speed) & filters URLs.</li>
                                <li><strong>Types:</strong> Transparent, Reverse, SOCKS.</li>
                                <li>Does not necessarily encrypt all traffic.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 5: SIEM & UBA -->
        <section id="siem" class="scroll-mt-20">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-slate-900 flex items-center gap-3">
                    <span class="bg-indigo-600 text-white w-10 h-10 rounded-lg flex items-center justify-center text-lg">5</span>
                    SIEM & Analytics
                </h2>
                <p class="mt-2 text-slate-600 text-lg">
                    Security Information and Event Management (SIEM) aggregates logs from all controls. User Behavior Analytics (UBA) detects insider threats.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Chart 1: The Funnel -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <h3 class="font-bold text-slate-800 mb-2">The SIEM Funnel</h3>
                    <p class="text-xs text-slate-500 mb-4">Visualizing the reduction of noise. Logs > Correlation > Alerts.</p>
                    <div class="chart-container">
                        <canvas id="siemFunnelChart"></canvas>
                    </div>
                </div>

                <!-- Chart 2: Log Sources -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <h3 class="font-bold text-slate-800 mb-2">Data Aggregation Sources</h3>
                    <p class="text-xs text-slate-500 mb-4">SIEM collects logs from diverse infrastructure components.</p>
                    <div class="chart-container">
                        <canvas id="logSourceChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- UBA Section -->
            <div class="mt-8 bg-indigo-900 text-white p-6 rounded-xl">
                <div class="flex flex-col md:flex-row items-center gap-6">
                    <div class="text-4xl">üß†</div>
                    <div>
                        <h3 class="text-xl font-bold mb-2">UBA: User Behavior Analytics</h3>
                        <p class="text-indigo-200 text-sm">
                            Traditional SIEM relies on rules. UBA uses Machine Learning to establish a "Baseline" of normal behavior. 
                            It detects anomalies like a user logging in from two countries at once, or accessing sensitive files at 3 AM.
                        </p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 text-slate-400 py-12 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="font-medium text-white mb-2">Cyber Defense</p>
            <p class="text-sm"></p>
            <p class="text-xs mt-4 opacity-50"></p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Navigation Logic ---
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // --- 2. Segmentation Logic ---
        function toggleZone(type) {
            const container = document.getElementById('network-diagram');
            
            if (type === 'flat') {
                container.innerHTML = `
                    <div class="h-full flex flex-col justify-center items-center fade-in">
                        <div class="border-2 border-slate-400 p-4 rounded w-full bg-white relative">
                            <span class="absolute -top-3 left-4 bg-white px-2 text-xs font-bold text-slate-500">Flat Network (No Segmentation)</span>
                            <div class="flex flex-wrap justify-center gap-4 py-4">
                                <div class="flex flex-col items-center"><span class="text-2xl">üñ•Ô∏è</span><span class="text-xs">User</span></div>
                                <div class="flex flex-col items-center"><span class="text-2xl">üóÑÔ∏è</span><span class="text-xs">DB Server</span></div>
                                <div class="flex flex-col items-center"><span class="text-2xl">üåç</span><span class="text-xs">Web Server</span></div>
                                <div class="flex flex-col items-center"><span class="text-2xl">üí≥</span><span class="text-xs">Finance</span></div>
                            </div>
                            <div class="mt-2 text-center text-xs text-rose-500 font-bold">‚ö†Ô∏è If one is breached, lateral movement is easy.</div>
                        </div>
                    </div>
                `;
            } else {
                container.innerHTML = `
                    <div class="h-full flex gap-4 fade-in">
                        <!-- DMZ -->
                        <div class="flex-1 border-2 border-indigo-400 border-dashed bg-indigo-50 p-2 rounded relative flex flex-col items-center justify-center">
                            <span class="absolute -top-3 bg-indigo-100 px-2 text-xs font-bold text-indigo-700">DMZ (Public Facing)</span>
                            <div class="text-3xl mb-2">üåç</div>
                            <span class="text-xs font-bold">Web Server</span>
                            <div class="text-3xl mt-4">üìß</div>
                            <span class="text-xs font-bold">Mail Server</span>
                        </div>
                        
                        <!-- Firewall Divider -->
                        <div class="w-2 bg-slate-800 rounded flex items-center justify-center relative">
                            <span class="absolute -rotate-90 text-white text-[10px] font-bold tracking-widest whitespace-nowrap">FIREWALL</span>
                        </div>

                        <!-- Internal -->
                        <div class="flex-1 border-2 border-emerald-400 border-dashed bg-emerald-50 p-2 rounded relative flex flex-col items-center justify-center">
                            <span class="absolute -top-3 bg-emerald-100 px-2 text-xs font-bold text-emerald-700">Internal (Trusted)</span>
                            <div class="text-3xl mb-2">üóÑÔ∏è</div>
                            <span class="text-xs font-bold">Database</span>
                            <div class="text-3xl mt-4">üñ•Ô∏è</div>
                            <span class="text-xs font-bold">Workstations</span>
                        </div>
                    </div>
                    <div class="text-center mt-4 text-xs text-indigo-700 font-bold">Safe: Attackers stuck in DMZ cannot reach Internal.</div>
                `;
            }
        }

        function showSegInfo(type) {
            const el = document.getElementById('seg-detail');
            const data = {
                physical: "<strong>Physical Segmentation:</strong> Separate switches, routers, and cabling. Most secure but expensive and hard to scale. Good for critical air-gapped systems.",
                logical: "<strong>Logical Segmentation (VLANs):</strong> Uses switches to tag traffic. Flexible and cost-effective. Devices behave as if on separate networks even if they share a wire.",
                virtual: "<strong>Network Virtualization:</strong> Abstracts network resources into software. Allows dividing one physical network into independent virtual networks (Overlay/Underlay). Ideal for Cloud/VMs."
            };
            el.innerHTML = data[type];
        }

        // Initialize Segmentation View
        toggleZone('flat');

        // --- 3. Firewall Logic ---
        const fwState = {
            type: 'packet',
            logs: []
        };

        const fwConfigs = {
            packet: { 
                desc: "Packet Filtering (Stateless): Checks headers (IP, Port) against a list. Fast but blind to payload content.",
                rules: { web: true, telnet: true, malware: true } // Packet filtering allows malware if port is open
            },
            stateful: { 
                desc: "Stateful Inspection: Tracks the 'state' of connections (e.g., Handshake). Only allows return traffic if requested.",
                rules: { web: true, telnet: false, malware: true } // Still might miss payload malware
            },
            proxy: { 
                desc: "Application Proxy: Acts as a middleman. Deeply inspects content but slower. Breaks connection to inspect.",
                rules: { web: true, telnet: false, malware: false } // Checks protocol validity
            },
            ngfw: { 
                desc: "NGFW (Next-Gen): Combines Deep Packet Inspection (DPI), IPS, and Identity. The most secure modern standard.",
                rules: { web: true, telnet: false, malware: false } // Detects application & threats
            }
        };

        function updateFwContext() {
            fwState.type = document.getElementById('fw-type').value;
            document.getElementById('fw-desc').innerText = fwConfigs[fwState.type].desc;
            addLog(`Configuration changed to: ${fwState.type.toUpperCase()}`);
        }

        function addLog(msg) {
            const logEl = document.getElementById('fw-log');
            const time = new Date().toLocaleTimeString().split(' ')[0];
            const line = document.createElement('div');
            line.innerHTML = `<span class="opacity-50">[${time}]</span> ${msg}`;
            logEl.prepend(line);
        }

        function simulatePacket(pktType) {
            const packetEl = document.getElementById('packet');
            const fwLogicText = document.getElementById('fw-logic-text');
            const config = fwConfigs[fwState.type];
            const allowed = config.rules[pktType];

            // Reset Animation
            packetEl.style.transition = 'none';
            packetEl.style.left = '0%';
            packetEl.style.opacity = '1';
            packetEl.className = "absolute top-1/2 -translate-y-1/2 w-8 h-8 rounded-full shadow-lg flex items-center justify-center text-white text-xs font-bold z-20 " + (pktType === 'malware' ? 'bg-rose-600' : 'bg-indigo-500');
            packetEl.innerText = pktType === 'malware' ? 'ü¶†' : (pktType === 'web' ? 'H' : 'T');

            fwLogicText.innerText = "Analyzing...";

            // Start Animation
            setTimeout(() => {
                packetEl.style.transition = 'all 1s linear';
                packetEl.style.left = '45%'; // Move to Firewall
            }, 50);

            // Decision Point
            setTimeout(() => {
                if (allowed) {
                    fwLogicText.innerText = "ALLOWED";
                    fwLogicText.className = "text-[10px] font-mono mt-1 text-center px-1 text-emerald-400 font-bold";
                    packetEl.style.left = '100%';
                    packetEl.style.opacity = '0';
                    addLog(`<span class="text-emerald-400">ALLOW</span>: ${pktType.toUpperCase()} passed rule check.`);
                } else {
                    fwLogicText.innerText = "BLOCKED";
                    fwLogicText.className = "text-[10px] font-mono mt-1 text-center px-1 text-rose-400 font-bold";
                    packetEl.style.transform = 'scale(1.5)';
                    packetEl.style.backgroundColor = '#ef4444'; // Red
                    setTimeout(() => { packetEl.style.opacity = '0'; }, 200);
                    addLog(`<span class="text-rose-400">DROP</span>: ${pktType.toUpperCase()} violated policy.`);
                }
                
                // Reset Text color after delay
                setTimeout(() => {
                    fwLogicText.className = "text-[10px] text-white font-mono mt-1 text-center px-1";
                    fwLogicText.innerText = "Ready";
                    packetEl.style.transform = 'translateY(-50%)'; // Reset scale
                }, 1000);

            }, 1050);
        }

        // --- 4. IDS / IPS Logic ---
        function triggerIdps(mode) {
            const resEl = document.getElementById(`${mode}-result`);
            resEl.innerText = "Analyzing traffic signature...";
            resEl.className = "mt-4 text-xs font-mono text-center h-6 text-slate-500 font-bold animate-pulse";

            setTimeout(() => {
                if (mode === 'ids') {
                    resEl.className = "mt-4 text-xs font-mono text-center h-6 text-indigo-600 font-bold";
                    resEl.innerText = "ALERT: Attack Detected! (Admin notified, Traffic continued)";
                } else {
                    resEl.className = "mt-4 text-xs font-mono text-center h-6 text-rose-600 font-bold";
                    resEl.innerText = "ACTION: Connection Reset & IP Blocked.";
                }
            }, 1500);
        }

        // --- 5. SIEM Charts ---
        document.addEventListener('DOMContentLoaded', () => {
            // Chart 1: Funnel
            new Chart(document.getElementById('siemFunnelChart'), {
                type: 'bar',
                data: {
                    labels: ['Raw Logs', 'Normalized Events', 'Correlated Incidents', 'Actionable Alerts'],
                    datasets: [{
                        label: 'Volume of Data',
                        data: [1000000, 500000, 1000, 50],
                        backgroundColor: [
                            'rgba(148, 163, 184, 0.5)', // Slate
                            'rgba(99, 102, 241, 0.5)',  // Indigo
                            'rgba(245, 158, 11, 0.5)',  // Amber
                            'rgba(225, 29, 72, 0.5)'    // Rose
                        ],
                        borderColor: [
                            'rgb(148, 163, 184)',
                            'rgb(99, 102, 241)',
                            'rgb(245, 158, 11)',
                            'rgb(225, 29, 72)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { type: 'logarithmic', title: { display: true, text: 'Events (Log Scale)' } }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: { callbacks: { label: (ctx) => `${ctx.raw.toLocaleString()} events` } }
                    }
                }
            });

            // Chart 2: Sources
            new Chart(document.getElementById('logSourceChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Firewall/Network', 'App Servers', 'Endpoints (AV)', 'Authentication (AD)'],
                    datasets: [{
                        data: [45, 25, 20, 10],
                        backgroundColor: ['#3b82f6', '#10b981', '#f59e0b', '#8b5cf6'],
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
        });

    </script>
</body>
</html>





